from typing import List
from queue import PriorityQueue
import heapq

class Solution:
    def maxAverageRatio(self, classes: List[List[int]], extraStudents: int) -> float:
        class cs:
            def __init__(self, data):
                self.dt = data
            def add_one(self):
                self.dt[0] += 1
                self.dt[1] += 1
            def __lt__(self, other):
                t1 = self.dt[1]
                p1 = self.dt[0]
                t2 = other.dt[1]
                p2 = other.dt[0]
                return (t1 + 1) * t1 * (t2-p2) < (t2+1) * t2 * (t1-p1)
        n = len(classes)
        que = [cs(i) for i in classes]
        heapq.heapify(que)

        for i in range(extraStudents):
            heapq.heapreplace(que, cs([que[0].dt[0]+1, que[0].dt[1]+1]))
        ans = sum(i.dt[0]/i.dt[1] for i in que)
        return ans / n
s = Solution()
r = s.maxAverageRatio(
    # classes = [[1,2],[3,5],[2,2]], extraStudents = 2
    [[113,651],[72,483],[108,537],[361,676],[426,691],[335,425],[358,842],[36,371],[340,521],[36,458],[161,978],[138,167],[108,168],[310,643],[359,701],[241,967],[649,681],[238,900],[617,990],[30,354],[339,598],[961,989],[772,862],[594,855],[157,771],[74,86],[377,583],[657,825],[358,544],[486,961],[478,981],[360,810],[655,798],[91,818],[468,641],[430,767],[63,960],[204,393],[573,766],[39,302],[228,335],[405,675],[748,880],[18,875],[404,505],[307,447],[218,455],[644,931],[393,982],[275,585],[92,152],[7,832],[249,877],[500,988],[321,324],[86,314],[942,988],[680,977],[148,916],[2,177],[208,526],[520,753],[62,524],[273,831],[98,483],[268,341],[286,306],[372,654],[234,788],[678,951],[559,805],[198,632],[68,468],[560,594],[711,769],[275,682],[144,387],[147,564],[97,345],[124,661],[149,305],[54,908],[155,665],[894,967],[16,577],[663,732],[417,733],[162,707],[96,241],[205,273],[135,468],[485,835],[182,845],[382,435],[24,306],[87,388],[280,823],[142,588],[898,898],[494,869],[8,309],[682,897],[823,829],[184,376],[166,853],[76,274],[7,132],[349,683],[792,850],[370,784],[525,555],[672,682],[158,835],[114,798],[208,777],[460,994],[284,677],[212,643],[770,956],[215,460],[206,833],[77,529],[94,417],[417,442],[627,835],[570,952],[470,684],[178,846],[509,897],[586,737],[111,267],[207,966],[100,310],[383,644],[319,356],[5,94],[219,327],[99,629],[218,462],[410,698],[393,792],[205,545],[255,447],[437,831],[132,362],[283,642],[127,369],[47,945],[705,968],[735,880],[390,658],[384,723],[504,587],[189,795],[84,328],[465,619],[252,315],[748,885],[545,990],[427,575],[593,991],[705,872],[725,986],[593,639],[409,549],[409,854],[134,885],[198,223],[17,770],[164,355],[137,978],[305,329],[84,902],[26,679],[51,64],[266,719],[197,520],[193,556],[241,964],[343,960],[528,781],[385,592],[223,817],[84,296],[125,222],[112,997],[888,974],[268,739],[384,803],[578,842],[554,555],[131,274],[92,202],[677,777],[710,927],[325,781],[17,915],[360,417],[89,976],[218,844],[896,897],[595,685],[20,41],[459,920],[313,789],[572,943],[244,827],[515,777],[19,398],[180,467],[451,802],[745,823],[552,989],[10,35],[134,312],[489,632],[496,809],[647,661],[661,790],[563,727],[36,766],[253,463],[74,201],[14,441],[813,850],[5,148],[59,906],[277,549],[69,331],[4,227],[138,556],[99,833],[358,936],[652,961],[205,285],[179,493],[764,845],[474,679],[148,639],[914,991],[325,547],[166,995],[404,961],[214,605],[306,611],[677,692],[833,937],[261,880],[449,469],[140,189],[161,180],[417,511],[333,765],[173,633],[144,791],[272,861],[554,908],[665,739],[663,676],[24,946],[414,818],[279,548],[670,954],[177,557],[362,750],[112,767],[257,548],[46,180],[649,888],[435,709],[25,929],[67,661],[21,591],[9,555],[474,552],[442,852],[375,618],[149,789],[182,922],[10,57],[378,743],[602,665],[724,831],[85,974],[57,126],[150,159],[850,961],[23,960],[225,262],[586,760],[580,947],[197,693],[73,923],[353,417],[353,753],[394,506],[196,521],[276,737],[195,565],[422,742],[245,812],[224,390],[103,331],[173,414],[245,694],[325,556],[381,951],[826,895],[33,830],[167,213],[311,329],[467,635],[15,103],[192,849],[732,775],[560,999],[208,377],[163,285],[165,796],[114,196],[386,574],[317,443],[68,212],[290,876],[512,515],[233,474],[634,856],[51,742],[266,892],[333,402],[589,753],[159,865],[669,946],[346,864],[968,986],[338,463],[173,535],[102,825],[130,467],[158,962],[1,393],[174,916],[112,135],[570,653],[212,648],[113,882],[57,927],[591,797],[503,778],[229,554],[408,735],[301,357],[93,877],[230,378],[25,764],[98,270],[286,297],[318,565],[187,442],[502,705],[330,883],[288,386],[562,790],[413,928],[214,428],[73,359],[547,717],[457,941],[312,315],[360,406],[725,946],[30,679],[133,292],[116,907],[331,766],[243,688],[250,910],[529,607],[704,873],[144,352],[616,999],[48,893],[358,968],[172,597],[258,834],[543,957],[658,952],[880,988],[410,951],[730,961],[61,743],[232,636],[308,909],[346,996],[862,942],[352,527],[617,764],[758,869],[3,44],[423,847],[291,952],[8,838],[102,141],[290,599],[112,937],[44,280],[54,884],[623,801],[489,512],[54,926],[212,878],[198,756],[49,865],[288,358],[864,976],[382,526],[232,329],[331,505],[951,951],[36,606],[645,820],[132,137],[194,583],[241,671],[56,732],[92,946],[36,53],[196,773],[368,423],[803,815],[739,807],[162,963],[199,831],[214,793],[383,676],[235,249],[27,432],[328,887],[562,908],[396,665],[133,351],[667,678],[137,844],[97,981],[464,774],[295,749],[412,830],[412,825],[611,993],[103,213],[726,834],[328,652],[736,997],[360,604],[403,705],[400,896],[313,478],[72,493],[58,498],[739,995],[118,996],[335,943],[187,807],[178,326],[420,888],[151,587],[177,946],[188,709],[744,832],[859,892],[371,624],[90,414],[631,970],[222,908],[619,744],[619,790],[751,760],[160,635],[762,908],[762,894],[500,965],[279,384],[180,735],[313,496],[36,943],[137,394],[633,830],[314,470],[351,625],[125,584],[353,796],[438,928],[112,248],[6,474],[124,333],[626,942],[509,618],[948,966],[104,216],[24,516],[770,794],[305,547],[211,424],[323,436],[609,648],[171,200],[758,823],[179,808],[50,506],[118,445],[12,177],[607,673],[42,85],[468,583],[357,441],[195,541],[852,906],[57,366],[487,831],[775,934],[95,376],[186,796],[392,808],[248,868],[83,723],[265,534],[568,605],[33,577],[149,420],[525,787],[274,446],[226,336],[224,443],[105,573],[222,370],[511,559],[165,561],[778,844],[321,391],[115,853],[238,762],[410,908],[439,942],[849,915],[475,957],[405,633],[294,714],[129,835],[217,860],[25,334],[74,556],[923,991],[82,647],[326,909],[434,930],[57,497],[626,722],[120,535],[16,662],[474,887],[249,689],[481,688],[637,933],[297,913],[389,890],[266,360],[559,804],[791,797],[822,857],[213,725],[705,711],[64,547],[717,989],[545,944],[127,662],[106,680],[573,950],[550,788],[125,834],[48,978],[83,181],[298,757],[417,840],[824,928],[64,86],[118,899],[197,617],[150,978],[9,464],[190,201],[220,221],[167,986],[748,955],[3,372],[516,777],[25,658],[47,239],[639,867],[145,171],[814,942],[117,844],[244,828],[420,884],[149,214],[355,665],[53,73],[384,694],[292,313],[50,221],[483,824],[30,84],[48,533],[90,814],[220,511],[118,644],[19,117],[33,912],[417,656],[788,863],[455,789],[47,118],[17,561],[1,612],[104,263],[258,692],[166,313],[381,776],[56,103],[349,551],[156,345],[521,567],[94,423],[286,558],[550,625],[90,852],[101,449],[54,121],[52,710],[74,903],[40,656],[145,840],[206,426],[312,697],[545,643],[573,797],[225,765],[291,661],[83,539],[73,633],[272,525],[315,794],[462,787],[507,629],[279,441],[434,967],[254,863],[31,376],[110,763],[175,696],[633,686],[727,827],[156,515],[155,711],[171,465],[8,638],[13,620],[388,425],[335,527],[487,824],[618,987],[291,592],[18,745],[2,14],[87,748],[136,718],[253,717],[498,893],[108,205],[87,866],[103,281],[197,835],[133,760],[309,902],[139,346],[149,550],[131,941],[760,956],[108,601],[406,731],[490,949],[54,231],[820,968],[225,466],[563,564],[796,880],[518,708],[487,856],[224,590],[308,744],[214,802],[377,880],[297,742],[29,650],[635,790],[495,988],[542,967],[176,762],[645,783],[403,584],[684,695],[288,711],[146,974],[695,992],[278,453],[385,973],[175,605],[30,639],[305,458],[417,439],[429,583],[441,783],[177,399],[550,754],[627,877],[197,388],[77,196],[477,659],[687,696],[537,587],[240,331],[729,751],[398,784],[79,776],[106,292],[127,398],[23,944],[215,628],[416,570],[403,465],[258,951],[82,947],[244,948],[101,405],[293,524]], 79486
)
print(r)